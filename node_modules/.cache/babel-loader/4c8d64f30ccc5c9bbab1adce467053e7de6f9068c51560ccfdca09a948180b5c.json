{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { bbox, rbox, inside } from '../types/Box.js';\nimport { ctm, screenCTM } from '../types/Matrix.js';\nimport { extend, getClass, makeInstance, register, root } from '../utils/adopter.js';\nimport { globals } from '../utils/window.js';\nimport { point } from '../types/Point.js';\nimport { proportionalSize, writeDataToDom } from '../utils/utils.js';\nimport { reference } from '../modules/core/regex.js';\nimport Dom from './Dom.js';\nimport List from '../types/List.js';\nimport SVGNumber from '../types/SVGNumber.js';\nexport default class Element extends Dom {\n  constructor(node, attrs) {\n    super(node, attrs);\n\n    // initialize data object\n    this.dom = {};\n\n    // create circular reference\n    this.node.instance = this;\n    if (node.hasAttribute('data-svgjs') || node.hasAttribute('svgjs:data')) {\n      // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\n      this.setData(JSON.parse(node.getAttribute('data-svgjs')) ?? JSON.parse(node.getAttribute('svgjs:data')) ?? {});\n    }\n  }\n\n  // Move element by its center\n  center(x, y) {\n    return this.cx(x).cy(y);\n  }\n\n  // Move by center over x-axis\n  cx(x) {\n    return x == null ? this.x() + this.width() / 2 : this.x(x - this.width() / 2);\n  }\n\n  // Move by center over y-axis\n  cy(y) {\n    return y == null ? this.y() + this.height() / 2 : this.y(y - this.height() / 2);\n  }\n\n  // Get defs\n  defs() {\n    const root = this.root();\n    return root && root.defs();\n  }\n\n  // Relative move over x and y axes\n  dmove(x, y) {\n    return this.dx(x).dy(y);\n  }\n\n  // Relative move over x axis\n  dx(x = 0) {\n    return this.x(new SVGNumber(x).plus(this.x()));\n  }\n\n  // Relative move over y axis\n  dy(y = 0) {\n    return this.y(new SVGNumber(y).plus(this.y()));\n  }\n  getEventHolder() {\n    return this;\n  }\n\n  // Set height of element\n  height(height) {\n    return this.attr('height', height);\n  }\n\n  // Move element to given x and y values\n  move(x, y) {\n    return this.x(x).y(y);\n  }\n\n  // return array of all ancestors of given type up to the root svg\n  parents(until = this.root()) {\n    const isSelector = typeof until === 'string';\n    if (!isSelector) {\n      until = makeInstance(until);\n    }\n    const parents = new List();\n    let parent = this;\n    while ((parent = parent.parent()) && parent.node !== globals.document && parent.nodeName !== '#document-fragment') {\n      parents.push(parent);\n      if (!isSelector && parent.node === until.node) {\n        break;\n      }\n      if (isSelector && parent.matches(until)) {\n        break;\n      }\n      if (parent.node === this.root().node) {\n        // We worked our way to the root and didn't match `until`\n        return null;\n      }\n    }\n    return parents;\n  }\n\n  // Get referenced element form attribute value\n  reference(attr) {\n    attr = this.attr(attr);\n    if (!attr) return null;\n    const m = (attr + '').match(reference);\n    return m ? makeInstance(m[1]) : null;\n  }\n\n  // Get parent document\n  root() {\n    const p = this.parent(getClass(root));\n    return p && p.root();\n  }\n\n  // set given data to the elements data property\n  setData(o) {\n    this.dom = o;\n    return this;\n  }\n\n  // Set element size to given width and height\n  size(width, height) {\n    const p = proportionalSize(this, width, height);\n    return this.width(new SVGNumber(p.width)).height(new SVGNumber(p.height));\n  }\n\n  // Set width of element\n  width(width) {\n    return this.attr('width', width);\n  }\n\n  // write svgjs data to the dom\n  writeDataToDom() {\n    writeDataToDom(this, this.dom);\n    return super.writeDataToDom();\n  }\n\n  // Move over x-axis\n  x(x) {\n    return this.attr('x', x);\n  }\n\n  // Move over y-axis\n  y(y) {\n    return this.attr('y', y);\n  }\n}\nextend(Element, {\n  bbox,\n  rbox,\n  inside,\n  point,\n  ctm,\n  screenCTM\n});\nregister(Element, 'Element');","map":{"version":3,"names":["bbox","rbox","inside","ctm","screenCTM","extend","getClass","makeInstance","register","root","globals","point","proportionalSize","writeDataToDom","reference","Dom","List","SVGNumber","Element","constructor","node","attrs","dom","instance","hasAttribute","setData","JSON","parse","getAttribute","center","x","y","cx","cy","width","height","defs","dmove","dx","dy","plus","getEventHolder","attr","move","parents","until","isSelector","parent","document","nodeName","push","matches","m","match","p","o","size"],"sources":["C:/Users/otff/Desktop/mindmap_demo/mind_demo/node_modules/@svgdotjs/svg.js/src/elements/Element.js"],"sourcesContent":["import { bbox, rbox, inside } from '../types/Box.js'\nimport { ctm, screenCTM } from '../types/Matrix.js'\nimport {\n  extend,\n  getClass,\n  makeInstance,\n  register,\n  root\n} from '../utils/adopter.js'\nimport { globals } from '../utils/window.js'\nimport { point } from '../types/Point.js'\nimport { proportionalSize, writeDataToDom } from '../utils/utils.js'\nimport { reference } from '../modules/core/regex.js'\nimport Dom from './Dom.js'\nimport List from '../types/List.js'\nimport SVGNumber from '../types/SVGNumber.js'\n\nexport default class Element extends Dom {\n  constructor(node, attrs) {\n    super(node, attrs)\n\n    // initialize data object\n    this.dom = {}\n\n    // create circular reference\n    this.node.instance = this\n\n    if (node.hasAttribute('data-svgjs') || node.hasAttribute('svgjs:data')) {\n      // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\n      this.setData(\n        JSON.parse(node.getAttribute('data-svgjs')) ??\n          JSON.parse(node.getAttribute('svgjs:data')) ??\n          {}\n      )\n    }\n  }\n\n  // Move element by its center\n  center(x, y) {\n    return this.cx(x).cy(y)\n  }\n\n  // Move by center over x-axis\n  cx(x) {\n    return x == null\n      ? this.x() + this.width() / 2\n      : this.x(x - this.width() / 2)\n  }\n\n  // Move by center over y-axis\n  cy(y) {\n    return y == null\n      ? this.y() + this.height() / 2\n      : this.y(y - this.height() / 2)\n  }\n\n  // Get defs\n  defs() {\n    const root = this.root()\n    return root && root.defs()\n  }\n\n  // Relative move over x and y axes\n  dmove(x, y) {\n    return this.dx(x).dy(y)\n  }\n\n  // Relative move over x axis\n  dx(x = 0) {\n    return this.x(new SVGNumber(x).plus(this.x()))\n  }\n\n  // Relative move over y axis\n  dy(y = 0) {\n    return this.y(new SVGNumber(y).plus(this.y()))\n  }\n\n  getEventHolder() {\n    return this\n  }\n\n  // Set height of element\n  height(height) {\n    return this.attr('height', height)\n  }\n\n  // Move element to given x and y values\n  move(x, y) {\n    return this.x(x).y(y)\n  }\n\n  // return array of all ancestors of given type up to the root svg\n  parents(until = this.root()) {\n    const isSelector = typeof until === 'string'\n    if (!isSelector) {\n      until = makeInstance(until)\n    }\n    const parents = new List()\n    let parent = this\n\n    while (\n      (parent = parent.parent()) &&\n      parent.node !== globals.document &&\n      parent.nodeName !== '#document-fragment'\n    ) {\n      parents.push(parent)\n\n      if (!isSelector && parent.node === until.node) {\n        break\n      }\n      if (isSelector && parent.matches(until)) {\n        break\n      }\n      if (parent.node === this.root().node) {\n        // We worked our way to the root and didn't match `until`\n        return null\n      }\n    }\n\n    return parents\n  }\n\n  // Get referenced element form attribute value\n  reference(attr) {\n    attr = this.attr(attr)\n    if (!attr) return null\n\n    const m = (attr + '').match(reference)\n    return m ? makeInstance(m[1]) : null\n  }\n\n  // Get parent document\n  root() {\n    const p = this.parent(getClass(root))\n    return p && p.root()\n  }\n\n  // set given data to the elements data property\n  setData(o) {\n    this.dom = o\n    return this\n  }\n\n  // Set element size to given width and height\n  size(width, height) {\n    const p = proportionalSize(this, width, height)\n\n    return this.width(new SVGNumber(p.width)).height(new SVGNumber(p.height))\n  }\n\n  // Set width of element\n  width(width) {\n    return this.attr('width', width)\n  }\n\n  // write svgjs data to the dom\n  writeDataToDom() {\n    writeDataToDom(this, this.dom)\n    return super.writeDataToDom()\n  }\n\n  // Move over x-axis\n  x(x) {\n    return this.attr('x', x)\n  }\n\n  // Move over y-axis\n  y(y) {\n    return this.attr('y', y)\n  }\n}\n\nextend(Element, {\n  bbox,\n  rbox,\n  inside,\n  point,\n  ctm,\n  screenCTM\n})\n\nregister(Element, 'Element')\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}