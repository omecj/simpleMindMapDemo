{"ast":null,"code":"import { Rect } from '@svgdotjs/svg.js';\n\n// 渲染展开收起按钮的隐藏占位元素\nfunction renderExpandBtnPlaceholderRect() {\n  // 根节点或没有子节点不需要渲染\n  if (!this.nodeData.children || this.nodeData.children.length <= 0 || this.isRoot) {\n    return;\n  }\n  // 默认显示展开按钮的情况下也不需要渲染\n  if (!this.mindMap.opt.alwaysShowExpandBtn) {\n    let {\n      width,\n      height\n    } = this;\n    if (!this._unVisibleRectRegionNode) {\n      this._unVisibleRectRegionNode = new Rect();\n      this._unVisibleRectRegionNode.fill({\n        color: 'transparent'\n      });\n    }\n    this.group.add(this._unVisibleRectRegionNode);\n    this.renderer.layout.renderExpandBtnRect(this._unVisibleRectRegionNode, this.expandBtnSize, width, height, this);\n  }\n}\n\n// 删除展开收起按钮的隐藏占位元素\nfunction clearExpandBtnPlaceholderRect() {\n  if (!this._unVisibleRectRegionNode) {\n    return;\n  }\n  this._unVisibleRectRegionNode.remove();\n  this._unVisibleRectRegionNode = null;\n}\n\n// 更新展开收起按钮的隐藏占位元素\nfunction updateExpandBtnPlaceholderRect() {\n  // 布局改变需要重新渲染\n  if (this.needRerenderExpandBtnPlaceholderRect) {\n    this.needRerenderExpandBtnPlaceholderRect = false;\n    this.renderExpandBtnPlaceholderRect();\n  }\n  // 没有子节点到有子节点需要渲染\n  if (this.nodeData.children && this.nodeData.children.length > 0) {\n    if (!this._unVisibleRectRegionNode) {\n      this.renderExpandBtnPlaceholderRect();\n    }\n  } else {\n    // 有子节点到没子节点，需要删除\n    if (this._unVisibleRectRegionNode) {\n      this.clearExpandBtnPlaceholderRect();\n    }\n  }\n}\nexport default {\n  renderExpandBtnPlaceholderRect,\n  clearExpandBtnPlaceholderRect,\n  updateExpandBtnPlaceholderRect\n};","map":{"version":3,"names":["Rect","renderExpandBtnPlaceholderRect","nodeData","children","length","isRoot","mindMap","opt","alwaysShowExpandBtn","width","height","_unVisibleRectRegionNode","fill","color","group","add","renderer","layout","renderExpandBtnRect","expandBtnSize","clearExpandBtnPlaceholderRect","remove","updateExpandBtnPlaceholderRect","needRerenderExpandBtnPlaceholderRect"],"sources":["C:/Users/otff/Desktop/mindmap_demo/mind_demo/node_modules/simple-mind-map/src/core/render/node/nodeExpandBtnPlaceholderRect.js"],"sourcesContent":["import { Rect } from '@svgdotjs/svg.js'\r\n\r\n// 渲染展开收起按钮的隐藏占位元素\r\nfunction renderExpandBtnPlaceholderRect() {\r\n  // 根节点或没有子节点不需要渲染\r\n  if (\r\n    !this.nodeData.children ||\r\n    this.nodeData.children.length <= 0 ||\r\n    this.isRoot\r\n  ) {\r\n    return\r\n  }\r\n  // 默认显示展开按钮的情况下也不需要渲染\r\n  if (!this.mindMap.opt.alwaysShowExpandBtn) {\r\n    let { width, height } = this\r\n    if (!this._unVisibleRectRegionNode) {\r\n      this._unVisibleRectRegionNode = new Rect()\r\n      this._unVisibleRectRegionNode.fill({\r\n        color: 'transparent'\r\n      })\r\n    }\r\n    this.group.add(this._unVisibleRectRegionNode)\r\n    this.renderer.layout.renderExpandBtnRect(\r\n      this._unVisibleRectRegionNode,\r\n      this.expandBtnSize,\r\n      width,\r\n      height,\r\n      this\r\n    )\r\n  }\r\n}\r\n\r\n// 删除展开收起按钮的隐藏占位元素\r\nfunction clearExpandBtnPlaceholderRect() {\r\n  if (!this._unVisibleRectRegionNode) {\r\n    return\r\n  }\r\n  this._unVisibleRectRegionNode.remove()\r\n  this._unVisibleRectRegionNode = null\r\n}\r\n\r\n// 更新展开收起按钮的隐藏占位元素\r\nfunction updateExpandBtnPlaceholderRect() {\r\n  // 布局改变需要重新渲染\r\n  if (this.needRerenderExpandBtnPlaceholderRect) {\r\n    this.needRerenderExpandBtnPlaceholderRect = false\r\n    this.renderExpandBtnPlaceholderRect()\r\n  }\r\n  // 没有子节点到有子节点需要渲染\r\n  if (this.nodeData.children && this.nodeData.children.length > 0) {\r\n    if (!this._unVisibleRectRegionNode) {\r\n      this.renderExpandBtnPlaceholderRect()\r\n    }\r\n  } else {\r\n    // 有子节点到没子节点，需要删除\r\n    if (this._unVisibleRectRegionNode) {\r\n      this.clearExpandBtnPlaceholderRect()\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  renderExpandBtnPlaceholderRect,\r\n  clearExpandBtnPlaceholderRect,\r\n  updateExpandBtnPlaceholderRect\r\n}\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,kBAAkB;;AAEvC;AACA,SAASC,8BAA8BA,CAAA,EAAG;EACxC;EACA,IACE,CAAC,IAAI,CAACC,QAAQ,CAACC,QAAQ,IACvB,IAAI,CAACD,QAAQ,CAACC,QAAQ,CAACC,MAAM,IAAI,CAAC,IAClC,IAAI,CAACC,MAAM,EACX;IACA;EACF;EACA;EACA,IAAI,CAAC,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAE;IACzC,IAAI;MAAEC,KAAK;MAAEC;IAAO,CAAC,GAAG,IAAI;IAC5B,IAAI,CAAC,IAAI,CAACC,wBAAwB,EAAE;MAClC,IAAI,CAACA,wBAAwB,GAAG,IAAIX,IAAI,CAAC,CAAC;MAC1C,IAAI,CAACW,wBAAwB,CAACC,IAAI,CAAC;QACjCC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IACA,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,IAAI,CAACJ,wBAAwB,CAAC;IAC7C,IAAI,CAACK,QAAQ,CAACC,MAAM,CAACC,mBAAmB,CACtC,IAAI,CAACP,wBAAwB,EAC7B,IAAI,CAACQ,aAAa,EAClBV,KAAK,EACLC,MAAM,EACN,IACF,CAAC;EACH;AACF;;AAEA;AACA,SAASU,6BAA6BA,CAAA,EAAG;EACvC,IAAI,CAAC,IAAI,CAACT,wBAAwB,EAAE;IAClC;EACF;EACA,IAAI,CAACA,wBAAwB,CAACU,MAAM,CAAC,CAAC;EACtC,IAAI,CAACV,wBAAwB,GAAG,IAAI;AACtC;;AAEA;AACA,SAASW,8BAA8BA,CAAA,EAAG;EACxC;EACA,IAAI,IAAI,CAACC,oCAAoC,EAAE;IAC7C,IAAI,CAACA,oCAAoC,GAAG,KAAK;IACjD,IAAI,CAACtB,8BAA8B,CAAC,CAAC;EACvC;EACA;EACA,IAAI,IAAI,CAACC,QAAQ,CAACC,QAAQ,IAAI,IAAI,CAACD,QAAQ,CAACC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;IAC/D,IAAI,CAAC,IAAI,CAACO,wBAAwB,EAAE;MAClC,IAAI,CAACV,8BAA8B,CAAC,CAAC;IACvC;EACF,CAAC,MAAM;IACL;IACA,IAAI,IAAI,CAACU,wBAAwB,EAAE;MACjC,IAAI,CAACS,6BAA6B,CAAC,CAAC;IACtC;EACF;AACF;AAEA,eAAe;EACbnB,8BAA8B;EAC9BmB,6BAA6B;EAC7BE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}